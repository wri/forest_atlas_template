define(["declare","on","topic","keys","mainmodel","mainevents","class","win"],function(e,n,t,i,c,r,s,u){var o=e(null,{constructor:function(){var e=c.getVM(),o=r.getEvents();n(u.body(),"keyup",function(n){n.stopPropagation();var c=n.charCode||n.keyCode;switch(c){case i.ENTER:"login"===e.currentView()&&t.publish(o.clickLogin),"deployment"===e.currentView()&&require(["deploymentmodel"],function(e){var n=e.getVM(),t=n.sequences()[n.currentDeploymentActivePos()];n.clickImage(t)}),"species"===e.currentView()&&require(["speciesmodel"],function(e){var n=e.getVM(),t=n.sequences()[n.currentSpeciesActivePos()];n.clickImage(t)});break;case i.ESCAPE:if("sequenceDeployment"===e.currentView()){var r=s.contains("fullScreenToggle","fullScreenMode");r&&t.publish(o.toggleFullScreen)}break;case i.RIGHT_ARROW:"deployment"===e.currentView()&&require(["deploymentevents"],function(e){var n=e.getEvents();t.publish(n.activeNext)}),"species"===e.currentView()&&require(["speciesevents"],function(e){var n=e.getEvents();t.publish(n.activeNext)});break;case i.LEFT_ARROW:"deployment"===e.currentView()&&require(["deploymentevents"],function(e){var n=e.getEvents();t.publish(n.activePrev)}),"species"===e.currentView()&&require(["speciesevents"],function(e){var n=e.getEvents();t.publish(n.activePrev)})}})}});return o.initialize=function(){return null==o._instance&&(o._instance=new o),o._instance},o.destroy=function(){delete o._instance},o});